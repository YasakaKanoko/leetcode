

# 复杂度分析

复杂度可分为：

- 时间复杂度
- 空间复杂度



1. **如何表示复杂度？**

   **大 O 表示法**。不代表真正的执行时间和存储空间消耗，而是表示**代码执行时间随数据规模增长的变化趋势** ( 时间复杂度 ) 或存储**空间随数据规模的增长的变化趋势** ( 空间复杂度 ) ，所以，也叫做**渐进时间或空间复杂度** ( **asymptotic time complexity** ) 简称 " **时间 ( 或空间 ) 复杂度** "

2. **常见复杂度**

   - **多项式量阶**

     1. 常量阶 `O(1)`：当算法中不存在循环、递归语句

     2. 对数阶 `O(logn)`

        ```js
        let i = 0;
        while(i <= n) {
            i *= 2;
        }
        ```

        > 每次循环 `i` 都乘 `2`，直至 `i > n`，执行过程 `2^0`、`2^1` ...... `2^x`、......、 `n`，总执行次数是 x 次，log2 n = x ，写作 2x = n，时间复杂度是 O(log2 n)，2 可以替换成其他常量

     3. 线性阶：O(n)

     4. 线性对数阶：O(n log n)

     5. 平方阶、立方阶、`k` 次方阶：`O(n^2)`、`O(n^3)`、.....、`O(n^k)`

   - **非多项式量阶**

     - 指数阶：`O(2^n)`
     - 阶乘阶：`O(n!)`

3. **复杂度划分**

   - 最好时间复杂度：在最理想的情况下，执行这段代码的时间复杂度
   - 最坏时间复杂度：在最糟糕的情况下，执行这段代码的时间复杂度
   - 平均时间复杂度：所有情况下，求一个平均值，可以省略掉系数、低阶、常量

# 复杂度表示

代码执行的时间、执行消耗的空间

```js
function cal(n) {
    let sum = 0; // 1 unit_time
    let i = 0; // 1 unit_time
    for(; i <= n; i++) { // n unit_time
        sum += i; // n unit_time
    }
    return sum;
}
```

假设每次执行时间相同，称 `unit_time`

以上共执行 `(2n+2) * unit_time` 时间，即 `T(n) = (2n+2) * unit_time`，写作 `T(n) = O(f(n))`

- `n`：数据规模
- `f(n)`：每行代码执行次数的和
- `O`：代码执行时间 `T(n)` 和 `f(n)` 成正比

当 `n` 很大时，`T(n) = O(n)`

**大 O 时间复杂度表示法**： 不具体表示代码真正的执行时间，而是表示代码执行时间随着数据规模的变化趋势，也叫作**渐进时间复杂度（asymptotic time complexity）**，简称**时间复杂度**。

## 时间复杂度

当 `n` 无限大时，时间复杂度 `T(n)` 受 `n` 最高数量级影响最大，与 `f(n)` 中的常量、低阶、系数关系没那么大，因此，仅仅关注执行次数最多的那段就可以

```javascript
function fun1(n) {
    let sum = 0,i = 0; 
    for(; i <= n; i++) {
        sum += i; 
    }
    return sum;
}

function fun2(n) {
    let sum = 0;
    for(let i = 0; i <= n; i++) { // n
        for(let j = 0; j <= n; j++) { // n
            sum += i * j; 
        }
    }
    return sum;
}
```

- `fun1` 第 1 行为常量，对 `n` 影响不大，时间复杂度是 `O(n)`
- `fun2` 当 `n` 趋近无限大，总体趋近 `O(n^2)`

> 1. `T(c+n) = O(n)`，`c` 为常数
> 2. `T(m+n) = O(max(m, n))`，当 `m < n`，`T(m+n) = O(n)`
> 3. `T(n*m) = T1(n)*T2(m) = O(n*m)`

## 空间复杂度

空间复杂度表示算法的存储空间与数据规模之间的增长关系

```javascript
function fun(n) {
    let a = [];
    for (let i = 0; i < n; i++) {
        a.push(i);
    }
    return a;
}
```

以上空间复杂度：`O(1+n) = O(n)`